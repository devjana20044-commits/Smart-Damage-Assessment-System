### 1. عنوان المشروع المقترح
**نظام توثيق وتحليل الأضرار الذكي (Smart Damage Assessment System)**

### 2. ملخص الفكرة
تطبيق موبايل (Android) يستخدمه المتطوعون أو الموظفون الميدانيون لتوثيق الأماكن المتضررة في سوريا (صورة + موقع + وصف). يتم إرسال هذه البيانات إلى سيرفر (Laravel) حيث يستلمها "وكيل ذكي" (AI Agent) يعتمد على نموذج Gemini. يقوم الـ AI بقراءة البيانات، وتوحيد أسماء المناطق (مثلاً تحويل "ريف دمشق-دوما" و "دوما الريف" إلى صيغة موحدة "ريف دمشق - دوما")، ويحلل الصور والنصوص لتقدير حجم الضرر. وأخيراً، تعرض النتائج في لوحة تحكم تفاعلية للمدير لاتخاذ القرارات.

---

### 3. الأدوات والتقنيات المستخدمة (Tech Stack)

*   **تطبيق الموبايل (Mobile App):**
    *   **اللغة:** Java.
    *   **الواجهة:** XML.
    *   **المكتبات:**
        *   `Retrofit`: للاتصال بالـ Backend (API).
        *   `Google Maps SDK`: لتحديد الموقع الجغرافي (GPS) بدقة.
        *   `CameraX` أو `Intent`: لالتقاط صور الأضرار.

*   **الواجهة الخلفية (Backend):**
    *   **الإطار:** Laravel (يفضل استخدامه لقوته في التعامل مع APIs و Queues).
    *   **قاعدة البيانات:** MySQL (لتخزين البيانات الخام والبيانات المعالجة).
    *   **الذكاء الاصطناعي:** Gemini API (Google AI Studio).

*   **لوحة التحكم (Dashboard):**
    *   **الواجهة:** Blade Templates (Laravel) أو Vue.js.
    *   **المخططات:** Chart.js أو ApexCharts لعرض الإحصائيات.

---

### 4. الشرح التفصيلي وسيناريو العمل

سنقسم العمل إلى ثلاث مراحل رئيسية:

#### المرحلة الأولى: جمع البيانات (Mobile App)
يقوم المستخدم بفتح التطبيق وتسجيل تقرير جديد:
1.  **الموقع:** يتم جلب الإحداثيات (Latitude, Longitude) تلقائياً، ويقوم المستخدم بكتابة اسم المنطقة يدوياً (وهنا يكمن التحدي الذي سيحله الـ AI).
2.  **الصورة:** التقاط صورة للمبنى أو المكان المتضرر.
3.  **الوصف:** كتابة ملاحظات (مثلاً: "انهيار جزئي في الجدار، الطابق الأرضي مدمر").
4.  **الإرسال:** يرسل التطبيق هذه البيانات عبر API إلى الـ Backend.

#### المرحلة الثانية: المعالجة الذكية (Laravel + AI Agent)
هنا يكمن "عقل" النظام. عند وصول البيانات للسيرفر، لا يتم عرضها فوراً في الإحصائيات، بل تمر بمرحلة "التنقية" (Processing Pipeline):

1.  **استلام الطلب:** يخزن Laravel البيانات في جدول يسمى `raw_reports`.
2.  **استدعاء AI Agent:** يقوم Laravel بإرسال البيانات (النص + الصورة) إلى Gemini API مع **Prompt (لقنة)** محددة بدقة.

**مثال على الـ Prompt الذي سيرسله Laravel لـ Gemini:**
> "أنت مساعد ذكي لتحليل البيانات الجغرافية في سوريا. لديك المدخلات التالية:
> - اسم المنطقة المدخل: 'حلب السكري'
> - الملاحظات: 'دمار كبير في الأبنية'
>
> **المطلوب منك:**
> 1. **توحيد الاسم:** قارن الاسم المدخل بقائمة المناطق الإدارية الرسمية في سوريا وصححه. (مثلاً حوله إلى: 'محافظة حلب - حي السكري').
> 2. **تصنيف الضرر:** بناءً على الملاحظات (والصورة إن أمكن)، قيم الضرر (منخفض، متوسط، مرتفع).
> 3. **أعد النتيجة بصيغة JSON فقط.**"

3.  **حفظ النتيجة:** يستقبل Laravel رد الـ AI (البيانات النظيفة) ويخزنها في جدول `processed_reports`.

#### المرحلة الثالثة: لوحة التحكم (Admin Dashboard)
المدير لا يرى البيانات العشوائية التي أدخلها المستخدمون، بل يرى البيانات التي نظفها الـ AI:
1.  **الخريطة الحرارية:** تظهر المناطق الأكثر تضرراً بناءً على الأسماء الموحدة (لن تظهر نقطة لـ "حماه" ونقطة لـ "حماة"، بل سيتم دمجهم).
2.  **المخططات البيانية:**
    *   مخطط دائري لنسبة الضرر (مرتفع vs منخفض).
    *   مخطط أعمدة للمحافظات الأكثر تضرراً.

---

### 5. هيكلية قاعدة البيانات المقترحة (Database Schema)

لضمان نجاح الفكرة، تحتاج جدولين أساسيين:

**جدول 1: `raw_reports` (ما يدخله المستخدم)**
*   `id`
*   `user_input_location` (مثلاً: "إدلب الدانا")
*   `user_notes`
*   `image_path`
*   `status` (pending, processed)

**جدول 2: `processed_reports` (بعد معالجة الـ AI)**
*   `id`
*   `raw_report_id` (علاقة مع الجدول الأول)
*   `governorate` (مثلاً: "إدلب" - موحد)
*   `district` (مثلاً: "الدانا" - موحد)
*   `damage_level` (1 إلى 5 أو High/Low)
*   `ai_confidence` (نسبة دقة تحليل الـ AI)

---

### 6. ميزات إضافية يمكن للـ AI تقديمها (Gemini Vision)
بما أنك تستخدم Gemini، يمكنك استغلال قدرته على "الرؤية" (Multimodal):
*   بدلاً من الاعتماد فقط على وصف المستخدم، يمكن إرسال رابط الصورة لـ Gemini ليقوم هو بوصف الضرر.
*   مثال: المستخدم يصور مبنى مهدم ولا يكتب شيئاً. الـ AI يحلل الصورة ويكتب: "مبنى سكني مدمر بالكامل، نسبة الضرر 90%".

### 7. لماذا Laravel + Gemini؟
*   **Laravel:** يمتلك ميزة `Queues`. تحليل الـ AI قد يأخذ بضعة ثوانٍ. لا يجب أن ينتظر مستخدم الموبايل حتى ينتهي التحليل. التطبيق يرفع البيانات، و Laravel يعالجها في الخلفية (Background Job) دون تعطيل المستخدم.
*   **Gemini:** يتميز بـ Context Window كبير وسرعة في فهم اللغة العربية واللهجات المحلية، مما يجعله ممتازاً لتصحيح الأخطاء الإملائية في أسماء المناطق السورية.




---

اريد ا يتم اعادة بناء الخطة بالكامل بحيث ان يكون الفرونت اند فلاتر والباك اند ليرافل اريد اخط تفصيلية خطوة خطوة لكل الملحقات والادوات وبينة الملفات في الاكواد الامامية والخلفية  ومحتوى قواعد البيانات  وشرح تفصيلي عن الواجهات الامامية لتطبيق فلاترمع شرح كل الادوات فبي كل واجهة وادارة الموقع من قبل الادمن عبر  web laravel مع اعداد توثيق ال api 